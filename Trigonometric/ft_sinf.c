/* ************************************************************************** */
/*                                                                            */
/*                                                        :::      ::::::::   */
/*   ft_sinf.c                                          :+:      :+:    :+:   */
/*                                                    +:+ +:+         +:+     */
/*   By: hdeniz <Discord:@teomandeniz>              +#+  +:+       +#+        */
/*                                                +#+#+#+#+#+   +#+           */
/*   Created: 2022/02/14 11:38:23 by hdeniz            #+#    #+#             */
/*   Updated: 2025/01/27 ??:??:?? by hdeniz           ###   ########.fr       */
/*                                                                            */
/* ************************************************************************** */

/* ************************* [v] MAGIC NUMBERS [v] ************************** */
#define S1 -1.66666666666666324348E-01F
#define S2 8.33333333332248946124E-03F
#define S3 -1.98412698298579493134E-04F
#define S4 2.75573137070700676789E-06F
#define S5 -2.50507602534068634195E-08F
#define S6 1.58969099521155010221E-10F
/* ************************* [^] MAGIC NUMBERS [^] ************************** */

/* ***************************** [v] UNIONS [v] ***************************** */
union u_static_cast
{
	float	as_float;
	int		as_int;
};
/* ***************************** [^] UNIONS [^] ***************************** */

float
	ft_sinf(register float x)
{
	register float		x_x;
	register float		x_x_x;
	union u_static_cast	cast;

	if (((x) - ((int)(x / 3.141592F)) * (3.141592F)) != \
		((x) - ((int)(x / 6.283184F)) * (6.283184F)))
		x *= -1.0F;
	x = ((x) - ((int)(x / 3.141592F)) * (3.141592F));
	cast.as_float = x;
	if ((cast.as_int & 0X7FFFFFFF) < 0X3E400000 && (int)x == 0)
		return (x);
	x_x = x * x;
	x_x_x = x_x * x;
	return (x - ((x_x * (-x_x_x * (S2 + x_x * (S3 + x_x * (S4 + x_x * \
		(S5 + x_x * S6)))))) - x_x_x * S1));
}
